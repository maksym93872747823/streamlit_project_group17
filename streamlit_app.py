import streamlit as st
import pandas as pd

# –ó–∞–≥–æ–ª–æ–≤–æ–∫
st.markdown(
    """
    <h1 style='text-align: center; color: #F9FAFB;'>üìö <span style='color:#00BFFF'>–ú–æ–∂–ª–∏–≤–æ –≤—Å–µ</span></h1>
    <p style='text-align: center; font-size:18px; color: #D1D5DB;'>
        –¶–∏—Ç–∞—Ç–∏, —ñ–¥–µ—ó —Ç–∞ –Ω–∞—Ç—Ö–Ω–µ–Ω–Ω—è, –∑—ñ–±—Ä–∞–Ω—ñ –Ω–∞—à–æ—é –∫–æ–º–∞–Ω–¥–æ—é –ø—ñ–¥ —á–∞—Å –∞–Ω–∞–ª—ñ–∑—É –∫–Ω–∏–≥–∏.
    </p>
    <hr style='border: 1px solid #444;'/>
    """,
    unsafe_allow_html=True
)

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Google –¢–∞–±–ª–∏—Ü—ã
url = "https://docs.google.com/spreadsheets/d/e/2PACX-1vR3cQlzWgr-dv_MC_usm7D2Lr2-XGG7HosOcMvLMQF3_e672gdHaTo8jxpJ77fwrPrwjKNyRh53IjLT/pub?output=csv"
df = pd.read_csv(url)
st.write("–ù–∞–∑–≤–∏ –∫–æ–ª–æ–Ω–æ–∫:", df.columns.tolist())


# –§—ñ–ª—å—Ç—Ä –ø–æ —ñ–º–µ–Ω—ñ (–ê–≤—Ç–æ—Ä)
if "–Ü–º'—è" in df.columns:
    selected_author = st.selectbox("–û–±—Ä–∞—Ç–∏ —É—á–∞—Å–Ω–∏–∫–∞", ["–í—Å—ñ"] + sorted(df["–Ü–º'—è"].dropna().unique()))
    if selected_author != "–í—Å—ñ":
        df = df[df["–Ü–º'—è"] == selected_author]

# –§—ñ–ª—å—Ç—Ä –ø–æ –Ω–∞–∑–≤—ñ —Ä–æ–∑–¥—ñ–ª—É (–ì–ª–∞–≤–∞)
if "–ù–∞–∑–≤–∞ —Ä–æ–∑–¥—ñ–ª—É" in df.columns:
    selected_chapter = st.selectbox("–û–±—Ä–∞—Ç–∏ —Ä–æ–∑–¥—ñ–ª", ["–í—Å—ñ"] + sorted(df["–ù–∞–∑–≤–∞ —Ä–æ–∑–¥—ñ–ª—É"].dropna().unique()))
    if selected_chapter != "–í—Å—ñ":
        df = df[df["–ù–∞–∑–≤–∞ —Ä–æ–∑–¥—ñ–ª—É"] == selected_chapter]

# –í–∏–≤—ñ–¥ —Ç–∞–±–ª–∏—Ü—ñ –ø—ñ—Å–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó
st.subheader("–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø—ñ—Å–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó")
st.dataframe(df)
